<!DOCTYPE html>
<html lang="en-us" xml:lang="en-us">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 One-mode visualization | Network Visualization</title>
  <meta name="description" content="5 One-mode visualization | Network Visualization" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="5 One-mode visualization | Network Visualization" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="ucdavisdatalab/workshop_network_viz" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 One-mode visualization | Network Visualization" />
  
  
  

<meta name="author" content="Liza Wood" />


<meta name="date" content="2023-03-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="network-descriptives.html"/>
<link rel="next" href="then-we-can-create-those-same-layout-tables-for-each-subgraph.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="https://datalab.ucdavis.edu/">
  <img src="https://datalab.ucdavis.edu/wp-content/uploads/2019/07/datalab-logo-full-color-rgb-1.png" style="height: 100%; width: 100%; object-fit: contain" />
</a></li>
<li><a href="./" style="font-size: 18px"Network visualization</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Overview</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.0.1" data-path="introduction.html"><a href="introduction.html#what-are-network-data"><i class="fa fa-check"></i><b>1.0.1</b> What are network data?</a></li>
<li class="chapter" data-level="1.0.2" data-path="introduction.html"><a href="introduction.html#features-of-a-network"><i class="fa fa-check"></i><b>1.0.2</b> Features of a network</a></li>
<li class="chapter" data-level="1.0.3" data-path="introduction.html"><a href="introduction.html#network-statistics"><i class="fa fa-check"></i><b>1.0.3</b> Network statistics</a></li>
<li class="chapter" data-level="1.0.4" data-path="introduction.html"><a href="introduction.html#storing-network-data"><i class="fa fa-check"></i><b>1.0.4</b> Storing network data</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>2</b> Data</a>
<ul>
<li class="chapter" data-level="2.0.1" data-path="data.html"><a href="data.html#about-delta-science-tracker"><i class="fa fa-check"></i><b>2.0.1</b> About Delta Science Tracker</a></li>
<li class="chapter" data-level="2.0.2" data-path="data.html"><a href="data.html#data-descriptions"><i class="fa fa-check"></i><b>2.0.2</b> Data descriptions</a></li>
<li class="chapter" data-level="2.0.3" data-path="data.html"><a href="data.html#what-story-do-we-want-to-tell"><i class="fa fa-check"></i><b>2.0.3</b> What story do we want to tell?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="creating-network-objects-in-r.html"><a href="creating-network-objects-in-r.html"><i class="fa fa-check"></i><b>3</b> Creating network objects in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="creating-network-objects-in-r.html"><a href="creating-network-objects-in-r.html#igraph"><i class="fa fa-check"></i><b>3.1</b> <code>igraph</code></a></li>
<li class="chapter" data-level="3.2" data-path="creating-network-objects-in-r.html"><a href="creating-network-objects-in-r.html#network"><i class="fa fa-check"></i><b>3.2</b> <code>network</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="network-descriptives.html"><a href="network-descriptives.html"><i class="fa fa-check"></i><b>4</b> Network descriptives</a></li>
<li class="chapter" data-level="5" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html"><i class="fa fa-check"></i><b>5</b> One-mode visualization</a>
<ul>
<li class="chapter" data-level="5.1" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#introduction-1"><i class="fa fa-check"></i><b>5.1</b> Introduction</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#visualization-goals"><i class="fa fa-check"></i><b>5.1.1</b> Visualization goals:</a></li>
<li class="chapter" data-level="5.1.2" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#preparing-to-work-with-network"><i class="fa fa-check"></i><b>5.1.2</b> Preparing to work with <code>network</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#getting-started-with-ggraph"><i class="fa fa-check"></i><b>5.2</b> Getting started with <code>ggraph</code></a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#layouts"><i class="fa fa-check"></i><b>5.2.1</b> Layouts</a></li>
<li class="chapter" data-level="5.2.2" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#aesthetics-themes"><i class="fa fa-check"></i><b>5.2.2</b> Aesthetics, themes</a></li>
<li class="chapter" data-level="5.2.3" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#node-labels"><i class="fa fa-check"></i><b>5.2.3</b> Node labels</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#community-detection"><i class="fa fa-check"></i><b>5.3</b> Community detection</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#community-is-broadly-defined"><i class="fa fa-check"></i><b>5.3.1</b> Community is broadly defined</a></li>
<li class="chapter" data-level="5.3.2" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#equivalence-clusters"><i class="fa fa-check"></i><b>5.3.2</b> Equivalence clusters</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#longitudinal-networks"><i class="fa fa-check"></i><b>5.4</b> Longitudinal networks</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#induce-subgraphs-by-edge"><i class="fa fa-check"></i><b>5.4.1</b> Induce subgraphs by edge</a></li>
<li class="chapter" data-level="5.4.2" data-path="one-mode-visualization.html"><a href="one-mode-visualization.html#fixing-coordinates"><i class="fa fa-check"></i><b>5.4.2</b> Fixing coordinates</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="then-we-can-create-those-same-layout-tables-for-each-subgraph.html"><a href="then-we-can-create-those-same-layout-tables-for-each-subgraph.html"><i class="fa fa-check"></i><b>6</b> Then we can create those same layout tables for each subgraph</a>
<ul>
<li class="chapter" data-level="6.1" data-path="then-we-can-create-those-same-layout-tables-for-each-subgraph.html"><a href="then-we-can-create-those-same-layout-tables-for-each-subgraph.html#interactive-plots-drafting"><i class="fa fa-check"></i><b>6.1</b> Interactive plots DRAFTING</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="two-mode-visualization.html"><a href="two-mode-visualization.html"><i class="fa fa-check"></i><b>7</b> Two-mode visualization</a></li>
<li class="chapter" data-level="8" data-path="normalized-degree-for-both-modes-see-ebba.html"><a href="normalized-degree-for-both-modes-see-ebba.html"><i class="fa fa-check"></i><b>8</b> Normalized degree for both modes… (see Ebba)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="normalized-degree-for-both-modes-see-ebba.html"><a href="normalized-degree-for-both-modes-see-ebba.html#leaders-versus-contributors"><i class="fa fa-check"></i><b>8.1</b> Leaders versus contributors?</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="normalized-degree-for-both-modes-see-ebba.html"><a href="normalized-degree-for-both-modes-see-ebba.html#induce-subgraphs-by-edge-1"><i class="fa fa-check"></i><b>8.1.1</b> Induce subgraphs by edge</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="normalized-degree-for-both-modes-see-ebba.html"><a href="normalized-degree-for-both-modes-see-ebba.html#climate-projects"><i class="fa fa-check"></i><b>8.2</b> Climate projects</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="additional-resources.html"><a href="additional-resources.html"><i class="fa fa-check"></i><b>9</b> Additional resources</a></li>
<li class="chapter" data-level="10" data-path="igraph-visualiation.html"><a href="igraph-visualiation.html"><i class="fa fa-check"></i><b>10</b> igraph visualiation</a></li>
<li class="chapter" data-level="11" data-path="ggnet2.html"><a href="ggnet2.html"><i class="fa fa-check"></i><b>11</b> ggnet2</a></li>
<li class="chapter" data-level="12" data-path="interactive.html"><a href="interactive.html"><i class="fa fa-check"></i><b>12</b> interactive</a></li>
<li class="divider"></li>
<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">
  <img alt="CC BY-SA 4.0" src="https://img.shields.io/badge/License-CC%20BY--NC--SA%204.0-lightgrey.svg" style="float: right; padding-right: 10px;" />
</a>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Network Visualization</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="one-mode-visualization" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> One-mode visualization<a href="one-mode-visualization.html#one-mode-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="introduction-1" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Introduction<a href="one-mode-visualization.html#introduction-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="visualization-goals" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Visualization goals:<a href="one-mode-visualization.html#visualization-goals" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: decimal">
<li>What does the collaborative network of Delta science research look like?</li>
<li>Do we see any particular research communities emerge across these collaborations? (community detection + representing node attributes by color)</li>
<li>How have research collaborations changed over time? (make subgraphs based on edge attribute + make multiple plots with fixed coordinates)</li>
</ol>
</div>
<div id="preparing-to-work-with-network" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Preparing to work with <code>network</code><a href="one-mode-visualization.html#preparing-to-work-with-network" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We are going to stick to only working with the <code>network</code> package, even though the functions we will use for visualization are compatible with both objects. However, there are commonly-used network functions in each package, <code>igraph</code> and <code>network</code>, that mask one another. For instance:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="one-mode-visualization.html#cb45-1" aria-hidden="true" tabindex="-1"></a>sna<span class="sc">::</span><span class="fu">degree</span>()</span>
<span id="cb45-2"><a href="one-mode-visualization.html#cb45-2" aria-hidden="true" tabindex="-1"></a>igraph<span class="sc">::</span><span class="fu">degree</span>()</span></code></pre></div>
<p>To avoid confusion and masking in R, we are going to detach the igraph package.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="one-mode-visualization.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">detach</span>(<span class="st">&quot;package:igraph&quot;</span>, <span class="at">unload =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Loading required package: statnet.common</code></pre>
<pre><code>## 
## Attaching package: &#39;statnet.common&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     attr, order</code></pre>
<pre><code>## Loading required package: network</code></pre>
<pre><code>## 
## &#39;network&#39; 1.18.1 (2023-01-24), part of the Statnet Project
## * &#39;news(package=&quot;network&quot;)&#39; for changes since last version
## * &#39;citation(&quot;network&quot;)&#39; for citation information
## * &#39;https://statnet.org&#39; for help, support, and other information</code></pre>
<pre><code>## sna: Tools for Social Network Analysis
## Version 2.7-1 created on 2023-01-24.
## copyright (c) 2005, Carter T. Butts, University of California-Irvine
##  For citation information, type citation(&quot;sna&quot;).
##  Type help(package=&quot;sna&quot;) to get started.</code></pre>
<pre><code>## Loading required package: ggplot2</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="one-mode-visualization.html#cb57-1" aria-hidden="true" tabindex="-1"></a>net1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span> <span class="ot">&lt;-</span> sna<span class="sc">::</span><span class="fu">degree</span>(net1)</span></code></pre></div>
</div>
</div>
<div id="getting-started-with-ggraph" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Getting started with <code>ggraph</code><a href="one-mode-visualization.html#getting-started-with-ggraph" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To introduce the basics of the <code>ggraph</code> package, we’re going to focus on our first question: <em>What does the collaborative network of Delta science research look like?</em></p>
<p><code>ggraph</code> uses the same approach as the <code>ggplot2</code> grammar of graphics. This means is has three core components: 1. (network) data, 2. geometries, in this case edges and nodes, and 3. aesthetic mappings</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="one-mode-visualization.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1) <span class="sc">+</span></span>
<span id="cb58-2"><a href="one-mode-visualization.html#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb58-3"><a href="one-mode-visualization.html#cb58-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>()</span></code></pre></div>
<pre><code>## Using &quot;stress&quot; as default layout</code></pre>
<pre><code>## Warning: Using the `size` aesthetic in this geom was deprecated in ggplot2 3.4.0.
## ℹ Please use `linewidth` in the `default_aes` field and elsewhere instead.</code></pre>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>These are some defaults at play here:
* layout = ‘auto’, which is the ‘stress’ layout<br />
* default aesthetic mapping for geom_edges: x, y, xend, yend
* default aesthetic mapping for geom_node_point: x, y</p>
<div id="layouts" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Layouts<a href="one-mode-visualization.html#layouts" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>First, let’s talk about layouts. Here is a good resource: <a href="https://www.data-imaginist.com/2017/ggraph-introduction-layouts/" class="uri">https://www.data-imaginist.com/2017/ggraph-introduction-layouts/</a></p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="one-mode-visualization.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;stress&#39;</span>, <span class="at">bbox =</span> <span class="dv">5</span>) <span class="sc">+</span></span>
<span id="cb61-2"><a href="one-mode-visualization.html#cb61-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb61-3"><a href="one-mode-visualization.html#cb61-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>()</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-6-1.png" width="50%" /></p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="one-mode-visualization.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;kk&#39;</span>) <span class="sc">+</span></span>
<span id="cb62-2"><a href="one-mode-visualization.html#cb62-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb62-3"><a href="one-mode-visualization.html#cb62-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>()</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-6-2.png" width="50%" /></p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="one-mode-visualization.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>) <span class="sc">+</span></span>
<span id="cb63-2"><a href="one-mode-visualization.html#cb63-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb63-3"><a href="one-mode-visualization.html#cb63-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>()</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-6-3.png" width="50%" /></p>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="one-mode-visualization.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;tree&#39;</span>) <span class="sc">+</span></span>
<span id="cb64-2"><a href="one-mode-visualization.html#cb64-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb64-3"><a href="one-mode-visualization.html#cb64-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>()</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-6-4.png" width="50%" /></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="one-mode-visualization.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;circle&#39;</span>) <span class="sc">+</span></span>
<span id="cb65-2"><a href="one-mode-visualization.html#cb65-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_edge_link</span>() <span class="sc">+</span></span>
<span id="cb65-3"><a href="one-mode-visualization.html#cb65-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_node_point</span>()</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-6-5.png" width="50%" />
### Removing isolates?</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="one-mode-visualization.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">isolates</span>(net1)</span></code></pre></div>
<pre><code>##  [1]   5   6  10  14  16  18  26  33  37  42  46  50  56  58  69  76  77  79  97
## [20] 106 108 115 117 127 131 134 137</code></pre>
<p>Draft…</p>
</div>
<div id="aesthetics-themes" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Aesthetics, themes<a href="one-mode-visualization.html#aesthetics-themes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now let’s start adding some aesthetics, much like we would with a ggplot to improve overall appeal</p>
<p>Reminder about colors. I liek to set a colors object and call upon it</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="one-mode-visualization.html#cb68-1" aria-hidden="true" tabindex="-1"></a>viridis<span class="sc">::</span><span class="fu">viridis</span>(<span class="dv">8</span>)</span></code></pre></div>
<pre><code>## [1] &quot;#440154FF&quot; &quot;#46337EFF&quot; &quot;#365C8DFF&quot; &quot;#277F8EFF&quot; &quot;#1FA187FF&quot; &quot;#4AC16DFF&quot;
## [7] &quot;#9FDA3AFF&quot; &quot;#FDE725FF&quot;</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="one-mode-visualization.html#cb70-1" aria-hidden="true" tabindex="-1"></a>clrs <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;#440154FF&quot;</span>, <span class="st">&quot;#46337EFF&quot;</span>, <span class="st">&quot;#365C8DFF&quot;</span>, <span class="st">&quot;#277F8EFF&quot;</span>,</span>
<span id="cb70-2"><a href="one-mode-visualization.html#cb70-2" aria-hidden="true" tabindex="-1"></a>          <span class="st">&quot;#1FA187FF&quot;</span>, <span class="st">&quot;#4AC16DFF&quot;</span>, <span class="st">&quot;#9FDA3AFF&quot;</span>, <span class="st">&quot;#FDE725FF&quot;</span>)</span></code></pre></div>
<p>We can change colors and assign additional aestehtics to the figure.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="one-mode-visualization.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>) <span class="sc">+</span></span>
<span id="cb71-2"><a href="one-mode-visualization.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">&quot;gray70&quot;</span>) <span class="sc">+</span></span>
<span id="cb71-3"><a href="one-mode-visualization.html#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>), <span class="at">color =</span> clrs[<span class="dv">4</span>]) </span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>We can also add themes and labels, just like with ggplot2.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="one-mode-visualization.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>) <span class="sc">+</span></span>
<span id="cb72-2"><a href="one-mode-visualization.html#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">&quot;gray70&quot;</span>) <span class="sc">+</span></span>
<span id="cb72-3"><a href="one-mode-visualization.html#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>), <span class="at">color =</span> clrs[<span class="dv">4</span>]) <span class="sc">+</span></span>
<span id="cb72-4"><a href="one-mode-visualization.html#cb72-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb72-5"><a href="one-mode-visualization.html#cb72-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb72-6"><a href="one-mode-visualization.html#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Delta Science Collaborative Research Network&quot;</span>)</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Notice it changes every time, a little bit. You can set your seed (every time before you plot to keep it consistent.)</p>
</div>
<div id="node-labels" class="section level3 hasAnchor" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Node labels<a href="one-mode-visualization.html#node-labels" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We have a variable that is our names, but it might be a bit overwhelming</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="one-mode-visualization.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>) <span class="sc">+</span></span>
<span id="cb73-2"><a href="one-mode-visualization.html#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">&quot;gray70&quot;</span>) <span class="sc">+</span></span>
<span id="cb73-3"><a href="one-mode-visualization.html#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>), <span class="at">color =</span> clrs[<span class="dv">4</span>]) <span class="sc">+</span></span>
<span id="cb73-4"><a href="one-mode-visualization.html#cb73-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb73-5"><a href="one-mode-visualization.html#cb73-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb73-6"><a href="one-mode-visualization.html#cb73-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb73-7"><a href="one-mode-visualization.html#cb73-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Delta Science Collaborative Research Network&quot;</span>) <span class="sc">+</span></span>
<span id="cb73-8"><a href="one-mode-visualization.html#cb73-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;name&#39;</span>),</span>
<span id="cb73-9"><a href="one-mode-visualization.html#cb73-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb73-10"><a href="one-mode-visualization.html#cb73-10" aria-hidden="true" tabindex="-1"></a>                <span class="at">color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Let’s be selective based on degree. Let’s say we want to take the top 5-degree nodes and label them.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="one-mode-visualization.html#cb74-1" aria-hidden="true" tabindex="-1"></a>topdeg <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;deg&quot;</span> <span class="ot">=</span> net1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb74-2"><a href="one-mode-visualization.html#cb74-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">top_n</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## Selecting by deg</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="one-mode-visualization.html#cb76-1" aria-hidden="true" tabindex="-1"></a>net1 <span class="sc">%v%</span> <span class="st">&#39;labels&#39;</span> <span class="ot">&lt;-</span> <span class="fu">ifelse</span>((net1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>) <span class="sc">%in%</span> topdeg<span class="sc">$</span>deg, </span>
<span id="cb76-2"><a href="one-mode-visualization.html#cb76-2" aria-hidden="true" tabindex="-1"></a>                           net1 <span class="sc">%v%</span> <span class="st">&#39;name&#39;</span>, <span class="st">&#39;&#39;</span>)</span></code></pre></div>
<p>Now we have a sparse label attribute</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="one-mode-visualization.html#cb77-1" aria-hidden="true" tabindex="-1"></a>net1 <span class="sc">%v%</span> <span class="st">&#39;labels&#39;</span></span></code></pre></div>
<pre><code>##   [1] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;CDFW&quot;  &quot;&quot;     
##  [10] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;DWR&quot;   &quot;&quot;      &quot;&quot;      &quot;&quot;     
##  [19] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
##  [28] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
##  [37] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
##  [46] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
##  [55] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
##  [64] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
##  [73] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
##  [82] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
##  [91] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
## [100] &quot;&quot;      &quot;&quot;      &quot;USBR&quot;  &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
## [109] &quot;&quot;      &quot;&quot;      &quot;USFWS&quot; &quot;&quot;      &quot;USGS&quot;  &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
## [118] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
## [127] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;     
## [136] &quot;&quot;      &quot;&quot;      &quot;&quot;      &quot;&quot;</code></pre>
<p>And so it can make our plotting a bit better</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="one-mode-visualization.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>) <span class="sc">+</span></span>
<span id="cb79-2"><a href="one-mode-visualization.html#cb79-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">&quot;gray70&quot;</span>) <span class="sc">+</span></span>
<span id="cb79-3"><a href="one-mode-visualization.html#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>), <span class="at">color =</span> clrs[<span class="dv">4</span>]) <span class="sc">+</span></span>
<span id="cb79-4"><a href="one-mode-visualization.html#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb79-5"><a href="one-mode-visualization.html#cb79-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb79-6"><a href="one-mode-visualization.html#cb79-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Delta Science Collaborative Research Network&quot;</span>) <span class="sc">+</span></span>
<span id="cb79-7"><a href="one-mode-visualization.html#cb79-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;labels&#39;</span>),</span>
<span id="cb79-8"><a href="one-mode-visualization.html#cb79-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb79-9"><a href="one-mode-visualization.html#cb79-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color=</span><span class="st">&quot;black&quot;</span>)</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-15-1.png" width="672" />
We want text not to overlap</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="one-mode-visualization.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>) <span class="sc">+</span></span>
<span id="cb80-2"><a href="one-mode-visualization.html#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">&quot;gray70&quot;</span>) <span class="sc">+</span></span>
<span id="cb80-3"><a href="one-mode-visualization.html#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>), <span class="at">color =</span> clrs[<span class="dv">4</span>]) <span class="sc">+</span></span>
<span id="cb80-4"><a href="one-mode-visualization.html#cb80-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb80-5"><a href="one-mode-visualization.html#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb80-6"><a href="one-mode-visualization.html#cb80-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Delta Science Collaborative Research Network&quot;</span>) <span class="sc">+</span></span>
<span id="cb80-7"><a href="one-mode-visualization.html#cb80-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;labels&#39;</span>),</span>
<span id="cb80-8"><a href="one-mode-visualization.html#cb80-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb80-9"><a href="one-mode-visualization.html#cb80-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color=</span><span class="st">&quot;black&quot;</span>,</span>
<span id="cb80-10"><a href="one-mode-visualization.html#cb80-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">repel =</span> T)</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>Now that we’ve got that down as a base, I want to set this as a function so that we can move through other material a little more smoothly</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="one-mode-visualization.html#cb81-1" aria-hidden="true" tabindex="-1"></a>netplot_function <span class="ot">&lt;-</span> <span class="cf">function</span>(netname){</span>
<span id="cb81-2"><a href="one-mode-visualization.html#cb81-2" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> <span class="fu">ggraph</span>(netname, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>) <span class="sc">+</span></span>
<span id="cb81-3"><a href="one-mode-visualization.html#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">&quot;gray70&quot;</span>) <span class="sc">+</span></span>
<span id="cb81-4"><a href="one-mode-visualization.html#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> netname <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>), </span>
<span id="cb81-5"><a href="one-mode-visualization.html#cb81-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">color =</span> clrs[<span class="dv">6</span>]) <span class="sc">+</span></span>
<span id="cb81-6"><a href="one-mode-visualization.html#cb81-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb81-7"><a href="one-mode-visualization.html#cb81-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb81-8"><a href="one-mode-visualization.html#cb81-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> netname <span class="sc">%v%</span> <span class="st">&#39;labels&#39;</span>),</span>
<span id="cb81-9"><a href="one-mode-visualization.html#cb81-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">family =</span> <span class="st">&quot;Times&quot;</span>,</span>
<span id="cb81-10"><a href="one-mode-visualization.html#cb81-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb81-11"><a href="one-mode-visualization.html#cb81-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color=</span><span class="st">&quot;black&quot;</span>, <span class="at">repel =</span> T) </span>
<span id="cb81-12"><a href="one-mode-visualization.html#cb81-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(p)</span>
<span id="cb81-13"><a href="one-mode-visualization.html#cb81-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
</div>
<div id="community-detection" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Community detection<a href="one-mode-visualization.html#community-detection" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Often we’re curious about whether or not there is some pattern within that giant plate of spaghetti. Are some organizations linking with certain others on a more regular basis? We might want to do some community detection approaches.</p>
<p>Broadly, community detection is…</p>
<div id="community-is-broadly-defined" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> Community is broadly defined<a href="one-mode-visualization.html#community-is-broadly-defined" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Have there been certain communities of research over time?</p>
<p>The one thing I think igraph has going for it is community detection.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="one-mode-visualization.html#cb82-1" aria-hidden="true" tabindex="-1"></a>?igraph<span class="sc">::</span><span class="fu">cluster_walktrap</span>() <span class="co"># need to specify steps</span></span></code></pre></div>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="one-mode-visualization.html#cb83-1" aria-hidden="true" tabindex="-1"></a>wt <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">cluster_walktrap</span>(g1)</span>
<span id="cb83-2"><a href="one-mode-visualization.html#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(wt<span class="sc">$</span>membership) <span class="co"># 20 communities, where most are in community 1</span></span></code></pre></div>
<pre><code>## 
##  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 
## 53 12  5  7 14  3  2  2  2  2  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1 
## 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 
##  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1  1</code></pre>
<p>In network there is the equivalent cluster function</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="one-mode-visualization.html#cb85-1" aria-hidden="true" tabindex="-1"></a>?sna<span class="sc">::</span><span class="fu">equiv.clust</span>()</span></code></pre></div>
</div>
<div id="equivalence-clusters" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Equivalence clusters<a href="one-mode-visualization.html#equivalence-clusters" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="one-mode-visualization.html#cb86-1" aria-hidden="true" tabindex="-1"></a>ec <span class="ot">&lt;-</span> <span class="fu">equiv.clust</span>(net1)</span>
<span id="cb86-2"><a href="one-mode-visualization.html#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(ec)</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="one-mode-visualization.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(ec<span class="sc">$</span>cluster<span class="sc">$</span>height))</span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="one-mode-visualization.html#cb89-1" aria-hidden="true" tabindex="-1"></a>nblocks <span class="ot">=</span> <span class="dv">30</span></span>
<span id="cb89-2"><a href="one-mode-visualization.html#cb89-2" aria-hidden="true" tabindex="-1"></a>sbm <span class="ot">&lt;-</span> <span class="fu">blockmodel</span>(net1, ec, <span class="at">k =</span> nblocks)</span>
<span id="cb89-3"><a href="one-mode-visualization.html#cb89-3" aria-hidden="true" tabindex="-1"></a>sbm</span></code></pre></div>
<pre><code>## 
## Network Blockmodel:
## 
## Block membership:
## 
## 49590 49592 49593 49594 49598 49600 49601 49602 49603 49604 49605 49606 49607 
##     1     1     1     2     1     1     1     3     4     1     5     4     1 
## 49608 49609 49610 49611 49613 49614 49615 49616 49618 49619 49621 49622 49623 
##     1     6     1     7     1     1     8     9    10     1     1     1     1 
## 49624 49625 49626 49630 49631 49633 49634 49635 49636 49639 49640 49641 49642 
##    10    11     1     1     9     1     1    12     1     2     1    13     1 
## 49644 49645 49646 49647 49649 49651 49652 49654 49655 49656 49661 49662 49663 
##     1     1     1     7     7     1     1     9     7    14     1     1     1 
## 49664 49665 49667 49668 49669 49670 49671 49673 49674 49675 49676 49677 49678 
##     2    14     2     1    12     1     1     1    10     8    15     1    13 
## 49681 49682 49684 49685 49686 49687 49689 49691 49692 49693 49694 49696 49697 
##    16    17    13     1     1     1     1     1     1    18     1     1    14 
## 49700 49702 49703 49704 49707 49708 49709 49710 49711 49712 49714 49715 49716 
##     1    19     1     1    20    21     1     1     1    12     1    10     4 
## 49717 49718 49720 49723 49724 49726 49727 49728 49729 49730 49731 49732 49733 
##     8     1    14    12     1     1    22    23    24    24    25    15    26 
## 49735 49736 49737 49738 49739 49740 49741 49742 49743 49744 49745 49747 49748 
##    24     1    15     1    15    27    28    13    29    24     1    10     1 
## 49749 49750 49751 49752 49753 49754 49755 49756 49757 49759 49760 49761 49762 
##    10    30     2     2     1     1     1     1     1     1     1     1    12 
## 49763 49764 49765 49766 49767 49769 49770 49773 49774 
##     1     1    15     1     1     1     1    15     1 
## 
## Reduced form blockmodel:
## 
##   49590 49592 49593 49594 49598 49600 49601 49602 49603 49604 49605 49606 49607 49608 49609 49610 49611 49613 49614 49615 49616 49618 49619 49621 49622 49623 49624 49625 49626 49630 49631 49633 49634 49635 49636 49639 49640 49641 49642 49644 49645 49646 49647 49649 49651 49652 49654 49655 49656 49661 49662 49663 49664 49665 49667 49668 49669 49670 49671 49673 49674 49675 49676 49677 49678 49681 49682 49684 49685 49686 49687 49689 49691 49692 49693 49694 49696 49697 49700 49702 49703 49704 49707 49708 49709 49710 49711 49712 49714 49715 49716 49717 49718 49720 49723 49724 49726 49727 49728 49729 49730 49731 49732 49733 49735 49736 49737 49738 49739 49740 49741 49742 49743 49744 49745 49747 49748 49749 49750 49751 49752 49753 49754 49755 49756 49757 49759 49760 49761 49762 49763 49764 49765 49766 49767 49769 49770 49773 49774 
##              Block 1     Block 2    Block 3    Block 4    Block 5   Block 6
## Block 1  0.004185693 0.002283105 0.09589041 0.00456621 0.02739726 0.1369863
## Block 2  0.002283105 0.666666667 0.00000000 0.00000000 0.00000000 0.0000000
## Block 3  0.095890411 0.000000000        NaN 1.00000000 1.00000000 1.0000000
## Block 4  0.004566210 0.000000000 1.00000000 0.66666667 0.66666667 0.6666667
## Block 5  0.027397260 0.000000000 1.00000000 0.66666667        NaN 1.0000000
## Block 6  0.136986301 0.000000000 1.00000000 0.66666667 1.00000000       NaN
## Block 7  0.006849315 0.000000000 1.00000000 0.00000000 0.00000000 1.0000000
## Block 8  0.004566210 0.000000000 0.33333333 0.00000000 0.33333333 0.3333333
## Block 9  0.000000000 0.000000000 1.00000000 0.00000000 0.00000000 0.6666667
## Block 10 0.002283105 0.027777778 0.83333333 0.00000000 0.00000000 0.0000000
## Block 11 0.041095890 0.000000000 1.00000000 0.66666667 1.00000000 1.0000000
## Block 12 0.000000000 0.000000000 0.00000000 0.00000000 0.00000000 0.0000000
## Block 13 0.000000000 0.000000000 0.00000000 0.00000000 0.00000000 0.0000000
## Block 14 0.003424658 0.166666667 1.00000000 0.00000000 0.00000000 0.0000000
## Block 15 0.000000000 0.000000000 0.00000000 0.00000000 0.00000000 0.0000000
## Block 16 0.054794521 0.000000000 1.00000000 0.00000000 0.00000000 1.0000000
## Block 17 0.082191781 0.000000000 1.00000000 0.00000000 1.00000000 1.0000000
## Block 18 0.000000000 0.000000000 1.00000000 0.00000000 0.00000000 1.0000000
## Block 19 0.000000000 0.000000000 0.00000000 0.00000000 1.00000000 0.0000000
## Block 20 0.109589041 0.500000000 1.00000000 0.00000000 0.00000000 1.0000000
## Block 21 0.041095890 0.000000000 0.00000000 0.00000000 1.00000000 1.0000000
## Block 22 0.013698630 0.500000000 1.00000000 0.00000000 0.00000000 1.0000000
## Block 23 0.041095890 0.000000000 1.00000000 0.00000000 0.00000000 1.0000000
## Block 24 0.000000000 0.000000000 0.50000000 0.00000000 0.00000000 0.0000000
## Block 25 0.068493151 0.000000000 1.00000000 0.00000000 0.00000000 1.0000000
## Block 26 0.041095890 0.000000000 1.00000000 0.00000000 1.00000000 0.0000000
## Block 27 0.027397260 0.000000000 1.00000000 0.66666667 0.00000000 1.0000000
## Block 28 0.082191781 0.000000000 1.00000000 0.66666667 0.00000000 1.0000000
## Block 29 0.136986301 0.333333333 1.00000000 0.33333333 0.00000000 1.0000000
## Block 30 0.082191781 0.166666667 1.00000000 0.66666667 1.00000000 1.0000000
##              Block 7    Block 8   Block 9    Block 10   Block 11 Block 12
## Block 1  0.006849315 0.00456621 0.0000000 0.002283105 0.04109589      0.0
## Block 2  0.000000000 0.00000000 0.0000000 0.027777778 0.00000000      0.0
## Block 3  1.000000000 0.33333333 1.0000000 0.833333333 1.00000000      0.0
## Block 4  0.000000000 0.00000000 0.0000000 0.000000000 0.66666667      0.0
## Block 5  0.000000000 0.33333333 0.0000000 0.000000000 1.00000000      0.0
## Block 6  1.000000000 0.33333333 0.6666667 0.000000000 1.00000000      0.0
## Block 7  0.500000000 0.00000000 0.0000000 0.000000000 1.00000000      0.0
## Block 8  0.000000000 1.00000000 0.0000000 0.000000000 0.00000000      0.0
## Block 9  0.000000000 0.00000000 0.3333333 0.000000000 0.33333333      0.0
## Block 10 0.000000000 0.00000000 0.0000000 0.466666667 0.33333333      0.0
## Block 11 1.000000000 0.00000000 0.3333333 0.333333333        NaN      0.0
## Block 12 0.000000000 0.00000000 0.0000000 0.000000000 0.00000000      0.8
## Block 13 0.000000000 0.08333333 0.0000000 0.000000000 0.00000000      0.0
## Block 14 0.000000000 0.00000000 0.0000000 0.000000000 0.00000000      0.0
## Block 15 0.000000000 0.00000000 0.0000000 0.000000000 0.00000000      0.0
## Block 16 1.000000000 0.00000000 0.0000000 0.000000000 1.00000000      0.0
## Block 17 0.000000000 0.33333333 0.0000000 0.000000000 1.00000000      0.0
## Block 18 0.000000000 1.00000000 1.0000000 0.000000000 1.00000000      0.0
## Block 19 0.250000000 0.00000000 0.3333333 0.000000000 1.00000000      0.0
## Block 20 0.250000000 0.00000000 0.3333333 0.500000000 1.00000000      0.0
## Block 21 0.250000000 0.00000000 0.0000000 0.000000000 0.00000000      0.0
## Block 22 0.000000000 1.00000000 1.0000000 0.000000000 0.00000000      0.0
## Block 23 1.000000000 0.33333333 1.0000000 0.000000000 1.00000000      0.0
## Block 24 0.000000000 0.00000000 0.0000000 0.000000000 0.00000000      0.0
## Block 25 0.500000000 0.00000000 0.6666667 0.000000000 1.00000000      0.0
## Block 26 0.000000000 0.33333333 0.3333333 0.000000000 0.00000000      0.0
## Block 27 1.000000000 0.00000000 0.0000000 0.000000000 1.00000000      0.0
## Block 28 1.000000000 0.00000000 1.0000000 0.000000000 1.00000000      0.0
## Block 29 0.500000000 1.00000000 1.0000000 0.500000000 1.00000000      0.6
## Block 30 0.000000000 0.00000000 0.0000000 0.000000000 1.00000000      0.6
##            Block 13    Block 14 Block 15   Block 16   Block 17 Block 18
## Block 1  0.00000000 0.003424658        0 0.05479452 0.08219178      0.0
## Block 2  0.00000000 0.166666667        0 0.00000000 0.00000000      0.0
## Block 3  0.00000000 1.000000000        0 1.00000000 1.00000000      1.0
## Block 4  0.00000000 0.000000000        0 0.00000000 0.00000000      0.0
## Block 5  0.00000000 0.000000000        0 0.00000000 1.00000000      0.0
## Block 6  0.00000000 0.000000000        0 1.00000000 1.00000000      1.0
## Block 7  0.00000000 0.000000000        0 1.00000000 0.00000000      0.0
## Block 8  0.08333333 0.000000000        0 0.00000000 0.33333333      1.0
## Block 9  0.00000000 0.000000000        0 0.00000000 0.00000000      1.0
## Block 10 0.00000000 0.000000000        0 0.00000000 0.00000000      0.0
## Block 11 0.00000000 0.000000000        0 1.00000000 1.00000000      1.0
## Block 12 0.00000000 0.000000000        0 0.00000000 0.00000000      0.0
## Block 13 0.66666667 0.000000000        0 0.00000000 0.25000000      0.0
## Block 14 0.00000000 1.000000000        0 0.00000000 0.00000000      0.0
## Block 15 0.00000000 0.000000000        1 0.00000000 1.00000000      0.0
## Block 16 0.00000000 0.000000000        0        NaN 0.00000000      0.0
## Block 17 0.25000000 0.000000000        1 0.00000000        NaN      0.0
## Block 18 0.00000000 0.000000000        0 0.00000000 0.00000000      NaN
## Block 19 0.00000000 0.000000000        0 0.00000000 0.00000000      1.0
## Block 20 0.00000000 0.250000000        0 0.00000000 0.00000000      1.0
## Block 21 0.00000000 0.250000000        0 0.00000000 1.00000000      0.0
## Block 22 0.75000000 0.000000000        0 0.00000000 0.00000000      1.0
## Block 23 0.00000000 0.000000000        0 1.00000000 1.00000000      1.0
## Block 24 0.12500000 0.000000000        0 0.00000000 0.00000000      0.5
## Block 25 0.00000000 1.000000000        1 1.00000000 1.00000000      1.0
## Block 26 0.00000000 0.000000000        1 0.00000000 1.00000000      1.0
## Block 27 0.50000000 0.000000000        1 1.00000000 1.00000000      0.0
## Block 28 1.00000000 0.250000000        1 1.00000000 1.00000000      1.0
## Block 29 0.50000000 0.500000000        1 1.00000000 1.00000000      1.0
## Block 30 0.00000000 1.000000000        0 1.00000000 0.00000000      0.0
##           Block 19  Block 20   Block 21   Block 22   Block 23 Block 24
## Block 1  0.0000000 0.1095890 0.04109589 0.01369863 0.04109589    0.000
## Block 2  0.0000000 0.5000000 0.00000000 0.50000000 0.00000000    0.000
## Block 3  0.0000000 1.0000000 0.00000000 1.00000000 1.00000000    0.500
## Block 4  0.0000000 0.0000000 0.00000000 0.00000000 0.00000000    0.000
## Block 5  1.0000000 0.0000000 1.00000000 0.00000000 0.00000000    0.000
## Block 6  0.0000000 1.0000000 1.00000000 1.00000000 1.00000000    0.000
## Block 7  0.2500000 0.2500000 0.25000000 0.00000000 1.00000000    0.000
## Block 8  0.0000000 0.0000000 0.00000000 1.00000000 0.33333333    0.000
## Block 9  0.3333333 0.3333333 0.00000000 1.00000000 1.00000000    0.000
## Block 10 0.0000000 0.5000000 0.00000000 0.00000000 0.00000000    0.000
## Block 11 1.0000000 1.0000000 0.00000000 0.00000000 1.00000000    0.000
## Block 12 0.0000000 0.0000000 0.00000000 0.00000000 0.00000000    0.000
## Block 13 0.0000000 0.0000000 0.00000000 0.75000000 0.00000000    0.125
## Block 14 0.0000000 0.2500000 0.25000000 0.00000000 0.00000000    0.000
## Block 15 0.0000000 0.0000000 0.00000000 0.00000000 0.00000000    0.000
## Block 16 0.0000000 0.0000000 0.00000000 0.00000000 1.00000000    0.000
## Block 17 0.0000000 0.0000000 1.00000000 0.00000000 1.00000000    0.000
## Block 18 1.0000000 1.0000000 0.00000000 1.00000000 1.00000000    0.500
## Block 19       NaN 1.0000000 0.00000000 0.00000000 0.00000000    0.000
## Block 20 1.0000000       NaN 1.00000000 1.00000000 1.00000000    0.000
## Block 21 0.0000000 1.0000000        NaN 0.00000000 0.00000000    0.000
## Block 22 0.0000000 1.0000000 0.00000000        NaN 1.00000000    0.000
## Block 23 0.0000000 1.0000000 0.00000000 1.00000000        NaN    0.000
## Block 24 0.0000000 0.0000000 0.00000000 0.00000000 0.00000000    1.000
## Block 25 0.0000000 1.0000000 0.00000000 1.00000000 1.00000000    0.500
## Block 26 1.0000000 0.0000000 0.00000000 1.00000000 1.00000000    1.000
## Block 27 0.0000000 1.0000000 0.00000000 0.00000000 1.00000000    0.250
## Block 28 1.0000000 1.0000000 1.00000000 1.00000000 1.00000000    0.500
## Block 29 0.0000000 1.0000000 1.00000000 1.00000000 1.00000000    0.500
## Block 30 1.0000000 1.0000000 0.00000000 0.00000000 0.00000000    0.000
##            Block 25   Block 26   Block 27   Block 28  Block 29   Block 30
## Block 1  0.06849315 0.04109589 0.02739726 0.08219178 0.1369863 0.08219178
## Block 2  0.00000000 0.00000000 0.00000000 0.00000000 0.3333333 0.16666667
## Block 3  1.00000000 1.00000000 1.00000000 1.00000000 1.0000000 1.00000000
## Block 4  0.00000000 0.00000000 0.66666667 0.66666667 0.3333333 0.66666667
## Block 5  0.00000000 1.00000000 0.00000000 0.00000000 0.0000000 1.00000000
## Block 6  1.00000000 0.00000000 1.00000000 1.00000000 1.0000000 1.00000000
## Block 7  0.50000000 0.00000000 1.00000000 1.00000000 0.5000000 0.00000000
## Block 8  0.00000000 0.33333333 0.00000000 0.00000000 1.0000000 0.00000000
## Block 9  0.66666667 0.33333333 0.00000000 1.00000000 1.0000000 0.00000000
## Block 10 0.00000000 0.00000000 0.00000000 0.00000000 0.5000000 0.00000000
## Block 11 1.00000000 0.00000000 1.00000000 1.00000000 1.0000000 1.00000000
## Block 12 0.00000000 0.00000000 0.00000000 0.00000000 0.6000000 0.60000000
## Block 13 0.00000000 0.00000000 0.50000000 1.00000000 0.5000000 0.00000000
## Block 14 1.00000000 0.00000000 0.00000000 0.25000000 0.5000000 1.00000000
## Block 15 1.00000000 1.00000000 1.00000000 1.00000000 1.0000000 0.00000000
## Block 16 1.00000000 0.00000000 1.00000000 1.00000000 1.0000000 1.00000000
## Block 17 1.00000000 1.00000000 1.00000000 1.00000000 1.0000000 0.00000000
## Block 18 1.00000000 1.00000000 0.00000000 1.00000000 1.0000000 0.00000000
## Block 19 0.00000000 1.00000000 0.00000000 1.00000000 0.0000000 1.00000000
## Block 20 1.00000000 0.00000000 1.00000000 1.00000000 1.0000000 1.00000000
## Block 21 0.00000000 0.00000000 0.00000000 1.00000000 1.0000000 0.00000000
## Block 22 1.00000000 1.00000000 0.00000000 1.00000000 1.0000000 0.00000000
## Block 23 1.00000000 1.00000000 1.00000000 1.00000000 1.0000000 0.00000000
## Block 24 0.50000000 1.00000000 0.25000000 0.50000000 0.5000000 0.00000000
## Block 25        NaN 1.00000000 1.00000000 1.00000000 1.0000000 1.00000000
## Block 26 1.00000000        NaN 1.00000000 1.00000000 1.0000000 1.00000000
## Block 27 1.00000000 1.00000000        NaN 1.00000000 1.0000000 0.00000000
## Block 28 1.00000000 1.00000000 1.00000000        NaN 1.0000000 1.00000000
## Block 29 1.00000000 1.00000000 1.00000000 1.00000000       NaN 1.00000000
## Block 30 1.00000000 1.00000000 0.00000000 1.00000000 1.0000000        NaN</code></pre>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="one-mode-visualization.html#cb91-1" aria-hidden="true" tabindex="-1"></a>membership <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;block&quot;</span> <span class="ot">=</span> sbm<span class="sc">$</span>block.membership,</span>
<span id="cb91-2"><a href="one-mode-visualization.html#cb91-2" aria-hidden="true" tabindex="-1"></a>                         <span class="st">&quot;id&quot;</span> <span class="ot">=</span> ec<span class="sc">$</span>cluster<span class="sc">$</span>order)</span>
<span id="cb91-3"><a href="one-mode-visualization.html#cb91-3" aria-hidden="true" tabindex="-1"></a>membership <span class="ot">&lt;-</span> membership[<span class="fu">order</span>(membership<span class="sc">$</span>id),]</span>
<span id="cb91-4"><a href="one-mode-visualization.html#cb91-4" aria-hidden="true" tabindex="-1"></a>net1 <span class="sc">%v%</span> <span class="st">&#39;membership&#39;</span> <span class="ot">&lt;-</span> membership<span class="sc">$</span>block</span>
<span id="cb91-5"><a href="one-mode-visualization.html#cb91-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(net1 <span class="sc">%v%</span> <span class="st">&#39;membership&#39;</span>)</span></code></pre></div>
<pre><code>## 
##  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 
## 73  6  1  3  1  1  4  3  3  6  1  5  4  4  6  1  1  1  1  1  1  1  1  4  1  1 
## 27 28 29 30 
##  1  1  1  1</code></pre>
<p>We could assign color to that membership… but some of those memberships are really not significant</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="one-mode-visualization.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>) <span class="sc">+</span></span>
<span id="cb93-2"><a href="one-mode-visualization.html#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">&quot;gray70&quot;</span>) <span class="sc">+</span></span>
<span id="cb93-3"><a href="one-mode-visualization.html#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>,</span>
<span id="cb93-4"><a href="one-mode-visualization.html#cb93-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">color =</span> <span class="fu">factor</span>(net1 <span class="sc">%v%</span> <span class="st">&#39;membership&#39;</span>, </span>
<span id="cb93-5"><a href="one-mode-visualization.html#cb93-5" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">levels =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>))) <span class="sc">+</span></span>
<span id="cb93-6"><a href="one-mode-visualization.html#cb93-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb93-7"><a href="one-mode-visualization.html#cb93-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;labels&#39;</span>),</span>
<span id="cb93-8"><a href="one-mode-visualization.html#cb93-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb93-9"><a href="one-mode-visualization.html#cb93-9" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color=</span><span class="st">&quot;black&quot;</span>,</span>
<span id="cb93-10"><a href="one-mode-visualization.html#cb93-10" aria-hidden="true" tabindex="-1"></a>                 <span class="at">repel =</span> T)  <span class="sc">+</span></span>
<span id="cb93-11"><a href="one-mode-visualization.html#cb93-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb93-12"><a href="one-mode-visualization.html#cb93-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">color =</span> <span class="st">&quot;Community&quot;</span>, <span class="at">size =</span> <span class="st">&quot;Degree&quot;</span>)</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>Manually create your own grouping</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="one-mode-visualization.html#cb94-1" aria-hidden="true" tabindex="-1"></a>sig_blocks <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&#39;corr&#39;</span> <span class="ot">=</span> <span class="fu">diag</span>(sbm<span class="sc">$</span>block.model),</span>
<span id="cb94-2"><a href="one-mode-visualization.html#cb94-2" aria-hidden="true" tabindex="-1"></a>           <span class="st">&#39;b&#39;</span> <span class="ot">=</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">30</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb94-3"><a href="one-mode-visualization.html#cb94-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>(<span class="fu">is.nan</span>(corr)) <span class="sc">&amp;</span> corr <span class="sc">&gt;</span> .<span class="dv">5</span>)</span>
<span id="cb94-4"><a href="one-mode-visualization.html#cb94-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-5"><a href="one-mode-visualization.html#cb94-5" aria-hidden="true" tabindex="-1"></a>net1 <span class="sc">%v%</span> <span class="st">&#39;member_grp&#39;</span> <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(net1 <span class="sc">%v%</span> <span class="st">&#39;membership&#39;</span> <span class="sc">==</span> sig_blocks<span class="sc">$</span>b[<span class="dv">1</span>], <span class="dv">1</span>, </span>
<span id="cb94-6"><a href="one-mode-visualization.html#cb94-6" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(net1 <span class="sc">%v%</span> <span class="st">&#39;membership&#39;</span> <span class="sc">==</span> sig_blocks<span class="sc">$</span>b[<span class="dv">2</span>], <span class="dv">2</span>, </span>
<span id="cb94-7"><a href="one-mode-visualization.html#cb94-7" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(net1 <span class="sc">%v%</span> <span class="st">&#39;membership&#39;</span> <span class="sc">==</span> sig_blocks<span class="sc">$</span>b[<span class="dv">3</span>], <span class="dv">3</span>,</span>
<span id="cb94-8"><a href="one-mode-visualization.html#cb94-8" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(net1 <span class="sc">%v%</span> <span class="st">&#39;membership&#39;</span> <span class="sc">==</span> sig_blocks<span class="sc">$</span>b[<span class="dv">4</span>], <span class="dv">4</span>,</span>
<span id="cb94-9"><a href="one-mode-visualization.html#cb94-9" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(net1 <span class="sc">%v%</span> <span class="st">&#39;membership&#39;</span> <span class="sc">==</span> sig_blocks<span class="sc">$</span>b[<span class="dv">5</span>], <span class="dv">5</span>,</span>
<span id="cb94-10"><a href="one-mode-visualization.html#cb94-10" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(net1 <span class="sc">%v%</span> <span class="st">&#39;membership&#39;</span> <span class="sc">==</span> sig_blocks<span class="sc">$</span>b[<span class="dv">6</span>], <span class="dv">6</span>,</span>
<span id="cb94-11"><a href="one-mode-visualization.html#cb94-11" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(net1 <span class="sc">%v%</span> <span class="st">&#39;membership&#39;</span> <span class="sc">==</span> sig_blocks<span class="sc">$</span>b[<span class="dv">7</span>], <span class="dv">7</span>,</span>
<span id="cb94-12"><a href="one-mode-visualization.html#cb94-12" aria-hidden="true" tabindex="-1"></a>                          <span class="fu">ifelse</span>(net1 <span class="sc">%v%</span> <span class="st">&#39;membership&#39;</span> <span class="sc">==</span> sig_blocks<span class="sc">$</span>b[<span class="dv">8</span>], <span class="dv">8</span>,</span>
<span id="cb94-13"><a href="one-mode-visualization.html#cb94-13" aria-hidden="true" tabindex="-1"></a>                                 <span class="dv">9</span>))))))))</span></code></pre></div>
<p>Now we can use the ‘member_grp’ node attribute, which associated large and correlated blocks with colors, as our color aesthetic.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="one-mode-visualization.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(net1, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>) <span class="sc">+</span></span>
<span id="cb95-2"><a href="one-mode-visualization.html#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link</span>(<span class="at">width =</span> <span class="fl">0.5</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">color =</span> <span class="st">&quot;gray70&quot;</span>) <span class="sc">+</span></span>
<span id="cb95-3"><a href="one-mode-visualization.html#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>,</span>
<span id="cb95-4"><a href="one-mode-visualization.html#cb95-4" aria-hidden="true" tabindex="-1"></a>                      <span class="at">color =</span> <span class="fu">factor</span>(net1 <span class="sc">%v%</span> <span class="st">&#39;member_grp&#39;</span>))) <span class="sc">+</span></span>
<span id="cb95-5"><a href="one-mode-visualization.html#cb95-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_void</span>() <span class="sc">+</span></span>
<span id="cb95-6"><a href="one-mode-visualization.html#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> net1 <span class="sc">%v%</span> <span class="st">&#39;labels&#39;</span>),</span>
<span id="cb95-7"><a href="one-mode-visualization.html#cb95-7" aria-hidden="true" tabindex="-1"></a>                   <span class="at">size =</span> <span class="dv">3</span>, </span>
<span id="cb95-8"><a href="one-mode-visualization.html#cb95-8" aria-hidden="true" tabindex="-1"></a>                   <span class="at">color=</span><span class="st">&quot;black&quot;</span>,</span>
<span id="cb95-9"><a href="one-mode-visualization.html#cb95-9" aria-hidden="true" tabindex="-1"></a>                 <span class="at">repel =</span> T)  <span class="sc">+</span></span>
<span id="cb95-10"><a href="one-mode-visualization.html#cb95-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>) <span class="sc">+</span></span>
<span id="cb95-11"><a href="one-mode-visualization.html#cb95-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(clrs, <span class="st">&quot;grey&quot;</span>)) </span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
</div>
</div>
<div id="longitudinal-networks" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Longitudinal networks<a href="one-mode-visualization.html#longitudinal-networks" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Often you will want to induce subnetworks – based on edge attribute</p>
<div id="induce-subgraphs-by-edge" class="section level3 hasAnchor" number="5.4.1">
<h3><span class="header-section-number">5.4.1</span> Induce subgraphs by edge<a href="one-mode-visualization.html#induce-subgraphs-by-edge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="one-mode-visualization.html#cb96-1" aria-hidden="true" tabindex="-1"></a>net1 <span class="sc">%v%</span> <span class="st">&#39;id&#39;</span> <span class="ot">&lt;-</span> net1 <span class="sc">%v%</span> <span class="st">&#39;vertex.names&#39;</span></span>
<span id="cb96-2"><a href="one-mode-visualization.html#cb96-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-3"><a href="one-mode-visualization.html#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the edges for each time period</span></span>
<span id="cb96-4"><a href="one-mode-visualization.html#cb96-4" aria-hidden="true" tabindex="-1"></a>t1 <span class="ot">&lt;-</span> <span class="fu">which</span>(net1 <span class="sc">%e%</span> <span class="st">&#39;before_1980&#39;</span> <span class="sc">==</span> T)</span>
<span id="cb96-5"><a href="one-mode-visualization.html#cb96-5" aria-hidden="true" tabindex="-1"></a>t2 <span class="ot">&lt;-</span> <span class="fu">which</span>(net1 <span class="sc">%e%</span> <span class="st">&#39;Y1980_1994&#39;</span> <span class="sc">==</span> T)</span>
<span id="cb96-6"><a href="one-mode-visualization.html#cb96-6" aria-hidden="true" tabindex="-1"></a>t3 <span class="ot">&lt;-</span> <span class="fu">which</span>(net1 <span class="sc">%e%</span> <span class="st">&#39;Y1995_2009&#39;</span> <span class="sc">==</span> T)</span>
<span id="cb96-7"><a href="one-mode-visualization.html#cb96-7" aria-hidden="true" tabindex="-1"></a>t4 <span class="ot">&lt;-</span> <span class="fu">which</span>(net1 <span class="sc">%e%</span> <span class="st">&#39;Y2010_2024&#39;</span> <span class="sc">==</span> T)</span>
<span id="cb96-8"><a href="one-mode-visualization.html#cb96-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-9"><a href="one-mode-visualization.html#cb96-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Induce subgraphs based on those edges</span></span>
<span id="cb96-10"><a href="one-mode-visualization.html#cb96-10" aria-hidden="true" tabindex="-1"></a>net1_t1 <span class="ot">&lt;-</span> network<span class="sc">::</span><span class="fu">get.inducedSubgraph</span>(net1, <span class="at">eid =</span> t1)</span>
<span id="cb96-11"><a href="one-mode-visualization.html#cb96-11" aria-hidden="true" tabindex="-1"></a>net1_t2 <span class="ot">&lt;-</span> network<span class="sc">::</span><span class="fu">get.inducedSubgraph</span>(net1, <span class="at">eid =</span> t2)</span>
<span id="cb96-12"><a href="one-mode-visualization.html#cb96-12" aria-hidden="true" tabindex="-1"></a>net1_t3 <span class="ot">&lt;-</span> network<span class="sc">::</span><span class="fu">get.inducedSubgraph</span>(net1, <span class="at">eid =</span> t3)</span>
<span id="cb96-13"><a href="one-mode-visualization.html#cb96-13" aria-hidden="true" tabindex="-1"></a>net1_t4 <span class="ot">&lt;-</span> network<span class="sc">::</span><span class="fu">get.inducedSubgraph</span>(net1, <span class="at">eid =</span> t4)</span></code></pre></div>
<p>Now we have subgraphs</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="one-mode-visualization.html#cb97-1" aria-hidden="true" tabindex="-1"></a>net1_t4</span></code></pre></div>
<pre><code>##  Network attributes:
##   vertices = 60 
##   directed = FALSE 
##   hyper = FALSE 
##   loops = FALSE 
##   multiple = FALSE 
##   bipartite = FALSE 
##   total edges= 157 
##     missing edges= 0 
##     non-missing edges= 157 
## 
##  Vertex attribute names: 
##     degree id labels member_grp membership mode name url vertex.names 
## 
##  Edge attribute names: 
##     before_1980 Y1980_1994 Y1995_2009 Y2010_2024</code></pre>
<p>But note that our attributes remain from the whole network</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="one-mode-visualization.html#cb99-1" aria-hidden="true" tabindex="-1"></a>(net1_t1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>)[(net1_t1 <span class="sc">%v%</span> <span class="st">&#39;name&#39;</span> <span class="sc">==</span> <span class="st">&quot;SFEI&quot;</span>)]</span></code></pre></div>
<pre><code>## [1] 60</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="one-mode-visualization.html#cb101-1" aria-hidden="true" tabindex="-1"></a>(net1_t2 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>)[(net1_t2 <span class="sc">%v%</span> <span class="st">&#39;name&#39;</span> <span class="sc">==</span> <span class="st">&quot;SFEI&quot;</span>)]</span></code></pre></div>
<pre><code>## [1] 60</code></pre>
<p>But this is incorrect, so we want to reassign those values</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="one-mode-visualization.html#cb103-1" aria-hidden="true" tabindex="-1"></a>net1_t1 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span> <span class="ot">&lt;-</span> sna<span class="sc">::</span><span class="fu">degree</span>(net1_t1)</span>
<span id="cb103-2"><a href="one-mode-visualization.html#cb103-2" aria-hidden="true" tabindex="-1"></a>net1_t2 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span> <span class="ot">&lt;-</span> sna<span class="sc">::</span><span class="fu">degree</span>(net1_t2)</span>
<span id="cb103-3"><a href="one-mode-visualization.html#cb103-3" aria-hidden="true" tabindex="-1"></a>net1_t3 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span> <span class="ot">&lt;-</span> sna<span class="sc">::</span><span class="fu">degree</span>(net1_t3)</span>
<span id="cb103-4"><a href="one-mode-visualization.html#cb103-4" aria-hidden="true" tabindex="-1"></a>net1_t4 <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span> <span class="ot">&lt;-</span> sna<span class="sc">::</span><span class="fu">degree</span>(net1_t4)</span></code></pre></div>
<p>Since our degree value has changed, we also wanted to change our labels. We can write a function to do that</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="one-mode-visualization.html#cb104-1" aria-hidden="true" tabindex="-1"></a>get_top_degree <span class="ot">&lt;-</span> <span class="cf">function</span>(netname, n){</span>
<span id="cb104-2"><a href="one-mode-visualization.html#cb104-2" aria-hidden="true" tabindex="-1"></a>  topdeg <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;deg&quot;</span> <span class="ot">=</span> netname <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb104-3"><a href="one-mode-visualization.html#cb104-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">top_n</span>(n)</span>
<span id="cb104-4"><a href="one-mode-visualization.html#cb104-4" aria-hidden="true" tabindex="-1"></a>  labels <span class="ot">&lt;-</span> <span class="fu">ifelse</span>((netname <span class="sc">%v%</span> <span class="st">&#39;degree&#39;</span>) <span class="sc">%in%</span> topdeg<span class="sc">$</span>deg, </span>
<span id="cb104-5"><a href="one-mode-visualization.html#cb104-5" aria-hidden="true" tabindex="-1"></a>                             netname <span class="sc">%v%</span> <span class="st">&#39;name&#39;</span>, <span class="st">&#39;&#39;</span>)</span>
<span id="cb104-6"><a href="one-mode-visualization.html#cb104-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(labels)</span>
<span id="cb104-7"><a href="one-mode-visualization.html#cb104-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb104-8"><a href="one-mode-visualization.html#cb104-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-9"><a href="one-mode-visualization.html#cb104-9" aria-hidden="true" tabindex="-1"></a>net1_t1 <span class="sc">%v%</span> <span class="st">&#39;labels&#39;</span> <span class="ot">&lt;-</span> <span class="fu">get_top_degree</span>(net1_t1, <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## Selecting by deg</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="one-mode-visualization.html#cb106-1" aria-hidden="true" tabindex="-1"></a>net1_t2 <span class="sc">%v%</span> <span class="st">&#39;labels&#39;</span> <span class="ot">&lt;-</span> <span class="fu">get_top_degree</span>(net1_t2, <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## Selecting by deg</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="one-mode-visualization.html#cb108-1" aria-hidden="true" tabindex="-1"></a>net1_t3 <span class="sc">%v%</span> <span class="st">&#39;labels&#39;</span> <span class="ot">&lt;-</span> <span class="fu">get_top_degree</span>(net1_t3, <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## Selecting by deg</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="one-mode-visualization.html#cb110-1" aria-hidden="true" tabindex="-1"></a>net1_t4 <span class="sc">%v%</span> <span class="st">&#39;labels&#39;</span> <span class="ot">&lt;-</span> <span class="fu">get_top_degree</span>(net1_t4, <span class="dv">5</span>)</span></code></pre></div>
<pre><code>## Selecting by deg</code></pre>
<p>Now let’s plot one of our subgraphs. We can use the same netplot function</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="one-mode-visualization.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">netplot_function</span>(net1_t1)</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="one-mode-visualization.html#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">netplot_function</span>(net1_t2)</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-34-2.png" width="672" /></p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="one-mode-visualization.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">netplot_function</span>(net1_t3)</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-34-3.png" width="672" /></p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="one-mode-visualization.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">netplot_function</span>(net1_t4)</span></code></pre></div>
<p><img src="05_onemode_visualization_files/figure-html/unnamed-chunk-34-4.png" width="672" />
The issue here is that it is hard to really visualize change because the layout changes every time to make the visualize look more like a network… So let’s fixing our coordinates. We want nodes to be in the same position in the plotting of every subgraph.</p>
</div>
<div id="fixing-coordinates" class="section level3 hasAnchor" number="5.4.2">
<h3><span class="header-section-number">5.4.2</span> Fixing coordinates<a href="one-mode-visualization.html#fixing-coordinates" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>With ggraph/network, we can fix coordinates by creating a layout table from our initial network. First let’s make sure we have unique identifiers as that table. These layout tables give x and y coordinates to each</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="one-mode-visualization.html#cb116-1" aria-hidden="true" tabindex="-1"></a>fixed_coord <span class="ot">&lt;-</span> <span class="fu">create_layout</span>(net1, <span class="at">layout =</span> <span class="st">&#39;fr&#39;</span>)</span></code></pre></div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="network-descriptives.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="then-we-can-create-those-same-layout-tables-for-each-subgraph.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ucdavisdatalab/workshop_network_viz/edit/master/05_onemode_visualization.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ucdavisdatalab/workshop_network_viz/blob/master/05_onemode_visualization.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
